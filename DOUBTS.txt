1) Which services between the following can transfer directly to S3 Glacier?

- DataSync

Yes, DataSync can transfer directly to Glacier. Also, when we have a situation where we want to use DataSync but don't have the network capacity to do so, we should opt for using Snowcone, which comes with DataSync agent installed.

- DMS

??????????????????
 
- Snowcone

Snowcone comes with the DataSync agent installed, so technically it CAN transfer directly to Glacier

- Snowball

Snowball CAN NOT transfer directly to Glacier directly. We should use a combination of lifecycle policies to do so.

- Snowmobile

Yes! Snowmobile CAN transfer directly to Glacier.

- File Gateway (S3, FSx)

S3 File Gateway CAN NOT transfer NOR connect directly to Glacier. Use lifecycle policies to do so.

FSx connect to FSx file systems, so it's not even a connection to S3. So no.

- Volume Gateway

???????????????????

- Tape Gateway 

Tape Gateway CAN transfer directly to Glacier!

2) How does ALB's IP behave? Does it even exist? 

ALB doesn't have a static public IP address. If we need it to have (to deploy WAF on it, for example), we should use either a Global Accelerator, or front it with a Network Load Balancer

3) Why using NLB in front of a ALB besides givin it a fixed IP adress? Plz understand this deeper

That's the main reason. NLB can also route HTTP and HTTPS since they're TCP based.

4) In RDS, RR can be WITHIN-AZ, CROSS-AZ and CROSS-REGION. We don't pay for RR fees if they are in the same region

Yes!

5) AWS Identity Center: Multi-account permissions and application assignment

Multi-account permissions define which accounts a given person can access

Application assignments define which apps a given person can access

6) Network Firewall: Activate FLOW INSPECTION to detect intrusion-prone traffic

7) Field-level encryption is used to securely upload user-submitted data in CloudFront

8) RDS enchanced monitoring

It brings more detailed data on RDS Processes, RDS Child Processes and OS Processes

9) Usage of AD Federation Service (AD FS) to authenticate users in AWS without creating IAM users. Available with SAML 2.0 based federation.

10) NAT GW e NAT instance are in pub. subnets... What about VPC endpoints?

VPC Interface Endpoints have an ENI, which requires a Security Group. Hence, it is installed at THE SUBNET LEVEL!

VPC Gateway Endpoints are at the VPC LEVEL! So, it's even different from a NAT Gateway and NAT Instance, which are at the public-subnet level.

11) Remember headers for encryption in S3

For SSE-S3: x-amz-server-side-encryption: "AES256"

For SS3-KMS: x-amz-server-side-encryption: "aws:kms"

For SSE-C: x-amz-server-side-encryption-customer-{algorithm, key, key-MD5} are required.

12) Where are ALB's deployed? Are they inside of a subnet? Or outside of it?

ALB's and every other LB is deployed inside of a subnet! Remember, it also have security groups!

13) Are VPC Endpoint Interface and Gateway deployed in the private subnet?

VPC Endpoint Interface has an ENI, which requires a SG. Hence, it is deployed at the SUBNET LEVEL!

VPC Endpoint Gateway is deployed AT THE VPC LEVEL!

14) S3 minimum storage duration before being able to perform lifecycle transitions

If we want to transfer files to Standard-IA or One-Zone-IA, there's a minimum storage duration for which the object needs to stay in S3 Standard before being able to transition to these classes, which is of 30 days.

Which means that:

- We can't create a lifecycle policy to transition to S3 Standard IA after 2 days, ONLY AFTER 30 DAYS!
- We can't create a lifecycle policy to transition to S3 ONE-ZONE IA after 2 days, ONLY AFTER 30 DAYS!

However, this DOES NOT apply to S3 Glacier, Glacier Deep Archive and Intelligent Tiering.

15) File transfer protocols in Storage GW, DataSync, FSx, etc...

Storage Gateway S3 File Gateway: SMB or NFS

Storage Gateway FSx File Gateway: SMB, NTFS, AD

Storage Gateway Volume Gateway: iSCSI protocol

Storage Gateway Tape Gateway: VTL and iSCSI

FSx for Windows File Server: NTFS, SMB and DFS (Microsoft Distributed File System)

FSx for Lustre was not explicitly shown.

FSx for NetApp ONTAP: NFS, SMB, iSCSI

FSx for OpenZFS: NFS

DataSync: SMB and NFS

16) How many consumers can we have per shard on KDS?

Multiple. However, each record will only be processed once. How does Enchanced Fanout behave then?

17) Routing types available in ALB besides content-based routing

Path-based routing: By path

Host-based routing: By hostname

HTTP header based-routing: By HTTP headers

Query string based-routing: By ?app=X&...

18) OK, I know NAT GW and NAT instances are deployed in public subnets. However, where are VPC Endpoints (interface and gateway) deployed?

VPC Endpoint interface is at the subnet level.

VPC Endpoint Gateway it at the VPC level.

19) Headers for encryption in S3

x-amz-server-side-encryption = "AES256" for SSE-S3

x-amz-server-side-encryption = "aws:kms" for SSE-KMS

x-amz-server-side-encryption-customer-algorithm, x-amz-server-side-encryption-customer-key and x-amz-server-side-encryption-customer-key-MD5 for SSE-C

20) Please understand Q47 from JB5

We can only transfer for S-IA and ONE-ZONE-IA after 30 days. For Glacier, Glacier D.A and Intelligent Tiering, this doesn't apply, and we can transfer to them after 0 days.

21) EFS lifecycle is really max 90 days? Do we really need lifecycle to transition objects to IA storage classes?

Yes! Yes!

22) Is it only Glacier Flexible Retrieval that have Expedited retrieval type? What about Instant Retrieval?

Yes. Glacier Instant Retrieval already provides an instant retrieval time, so it doesn't offer the expedited kind of retrieval. 

23) How does S3 Retention Period work?

The retention periods of S3 reference the S3 Object Lock feature. I already know the rules so I won't mention them here, however, this question can be found at Mareek's S1 Q46.

24) Is it really possible to use a static website in S3 as an origin for CloudFront?

Yes, it is possible.

25) How does G.A work

We create one ENDPOINT GROUP for EACH REGION. Then, attach endpoints (resources) from each REGION to their respective ENDPOINT GROUPS (that were made for that particular region). Then, the user is routed in the following way: EDGE > G.A > ENDPOINT GROUP > ENDPOINT. Minute 16:30 from this video: https://www.youtube.com/watch?v=tar-fkbnxcw 

26) DataSync is not continuous

No, it's not. Its sync happens on a schedule.

27) Days before transitioning from S3 Standard to others using Lifecycle policies 

It's that rule that we need a minimum of 30 days to transition to Standard-IA and ONE-ZONE IA. This rule does not apply to GLACIER, GLACIER D.A and INTELLIGENT TIERING.

28) Storage Gateway transfer protocols

S3 File Gateway: NFS or SMB 

FSx File Gateway: NTFS, SMB and AD

Volume Gateway: iSCSI

Tape Gateway: iSCSI

29) Check for that Udemy answer with a lot of insights

30) When using SSE-KMS in S3, we might run into a throttling use-case when the high-throughput to use KMS keys exceeds the KMS limits of that region

Yes! When we upload an object to a bucket with SSE-KMS, KMS will call the GenerateDataKey API call. When we download an object from the same bucket, the Decrypt KMS API call will be called. We have quotas per second for these API calls, and if they get exceeded, we might run into a throttling situation.

31) Question points from Udemy:

Using CF with Lambda@edge to perform dynamic computations and reduce traffic between CF and S3 origin thereby reducing network cost

If RDS wasn't encrypted at creation, create snapshots and encrypt with copy, load DB into copied version, destroy old version - this was clearly explained on one TD question

ASG lifecycle hook: termination wait concept - to save EC2 data during a scale-in - this was clear on a TD exam question and also on Stephane's course

SNS + SQS fan-out - multiple consuming services, default SQS retention is 4 days (can be increased to 14)

Reserved instances types 

EC2 instance types

EC2 detailed monitoring

EFS is Posix based. If on-prem has all windows file servers, then use FSx for windows while migrating

user sessions can be saved on elasticache and dynamoDB

minimum retention period in every S3 storage tier

32) How does CloudWatch recover instance work?

We can recover instances to its identical state when a hardware failure happens. The instance needs to have an EBS volume attached though. Instance store is NOT allowed for this feature.

33) How exactly does the Aurora "promote" works?

Aurora read-deplicas provide a single DNS name (reader endpoint) and when applications connect to it, it performs load-balancing between the autoscaled read-replicas.

Cross-region replication takes less than 1sec with Global Aurora

When something bad happens and makes the primary Writer instance unavailable, IF the Aurora cluster has other Replicas, it will use the tier of them to promote a new Writer instance. However, if the DB cluster doesn't contain any Aurora Replicas, then the primary instance is recreated in the same AZ during a failure event. 

34) How to point ROute 53 to a static website on S3

General explanation: If our DNS name is www.alex.com, we need to point to a bucket with the EXACT SAME NAME.

If we create alex.com, and point to the bucket alex.com (with static website files), it will work fine.

However, if we create the www.alex.com record, we CAN'T point it to the alex.com bucket, because the name differs. In this case, we need to create a redirection rule in the www.alex.com bucket (yes, we need to create 2 buckets) to alex.com  

35) CORS is generally related to web-browsers

Yes!

36) Step-scaling instance warm-up

When we define instance warm-up on step-scaling policy, metrics won't count to CW until the warm-up time has expired.

This feature can be used when we come across situations such as "...and the application consistently takes 1 minute to initiate upon boot
up before responding to user requests. How should a solutions architect redesign the architecture to better respond to changing traffic?"

In the above case, instance warm-up is a good feature because it provides us with more accurate CW metrics, since the instance will need to wait 1min to boot-up, and while it's booting up, its metrics won't count to cloudwatch.

37) Do we need to respect the minimum storage duration of each storage class in S3 to make the lifecycle transitions?

Yes! It needs to be respected!

That means, If we want to transition: S3 Standard ----> S3 Standard IA ----> S3 Glacier Instant Retrieval ---> Glacier D.A

We need the following rules:

S3 Standard ---------------------> S3 Standard IA: 30 days (because we need at least 30 days to transfer to IA classes after Standard class)
S3 Standard IA ------------------> S3 Glacier Instant Retrieval: 60 days (because min. storage duration of S3 Standard IA is 30 days)
S3 Glacier Instant Retrieval ----> Glacier D.A: 150 days (because min. storage duration of Glacier I.R is 90 days)

38) RDS Maximum Storage Threshold scaling is based on...

- Free storage is less than 10% of the allocated
- Low storage lasts for 5 min
- 6 hours have passed since last modification

39) Is step-scaling based on METRICS or ALARMS?

40) Difference in pricing between S3, EFS and EBS
